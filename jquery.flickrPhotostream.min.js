/* ==================================================================================
 * jquery.flickrPhotostream.js v0.2
 * Description: Retrieve's a list of images from the public photostream of a user
 * Project: http://manuel.manuelles.nl/jquery-flickrPhotostream
 * Author: Manuel van Rijn
 * Released under the MIT License.
 * =============================================================================== */
(function(a,b,c,d){var e=function(b,c){this.elem=b,this.$elem=a(b),this.config=a.extend({},a.fn.flickrPhotostream.defaults,c)};e.prototype={init:function(){var b=this,c=a("<ul />");return a.getJSON(b.getFlickrPhotostreamUrl(),function(d){var e=parseInt(b.config.photoCount);typeof e=="number"&&d.items.length<e&&(e=d.items.length);for(var f=0;f<e;f++){var g=d.items[f],h=g.media.m;b.config.useMediumSize===!1&&(h=h.split("_m."),h=h[0]+"_s."+h[1]);var i=a("<a />").attr("href",g.link).attr("alt",g.title).attr("title",g.title),j=a("<img />").data("src",h).attr("alt",g.title).appendTo(i),k=a("<li />").append(i).addClass("photo-"+(f+1));c.append(k)}b.$elem.empty().get(0).tagName==="UL"?b.$elem.append(c.children()):b.$elem.empty().append(c),a("img",b.$elem).load(function(){a(this).fadeIn()}).hide().each(function(){a(this).attr("src",a(this).data("src"))}),b.config.callback.call(b.$elem)}),this},getFlickrPhotostreamUrl:function(){return"http://api.flickr.com/services/feeds/photos_public.gne?format=json&id="+this.config.userId+"&jsoncallback=?"}},a.fn.flickrPhotostream=function(a){return this.each(function(){(new e(this,a)).init()})},a.fn.flickrPhotostream.defaults={userId:d,useMediumSize:!1,photoCount:6,callback:function(){}}})(jQuery,window,document)
